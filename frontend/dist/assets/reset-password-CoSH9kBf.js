import{a as y,r as P,l as g,j as s,B as t,L as o}from"./index-CqXPVSZC.js";import{o as N,s as n,u as b,t as F,F as v,a as c,b as l,c as d,d as i,e as m}from"./form-BeuL1Gy7.js";import{I as x}from"./input-3cV1rw2q.js";import"./label-Cax8PUHg.js";const S=N({password:n().min(6,"Password must be at least 6 characters"),confirmPassword:n()}).refine(r=>r.password===r.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function I(){const{resetPassword:r}=y(),[w,u]=P.useState(!1),[h]=g(),p=h.get("token"),a=b({resolver:F(S),defaultValues:{password:"",confirmPassword:""}}),j=async e=>{await r({token:p,newPassword:e.password}),u(!0)},f=w?s.jsxs("div",{className:"w-full max-w-[350px] space-y-6",children:[s.jsxs("div",{className:"space-y-2 text-center",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Password reset successful"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Your password has been reset successfully. You can now login with your new password."})]}),s.jsx(t,{asChild:!0,className:"w-full",children:s.jsx(o,{to:"/login",children:"Back to login"})})]}):s.jsxs("div",{className:"w-full max-w-[350px] space-y-6",children:[s.jsxs("div",{className:"space-y-2 text-center",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Reset password"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your new password below"})]}),s.jsx(v,{...a,children:s.jsxs("form",{onSubmit:a.handleSubmit(j),className:"space-y-4",children:[s.jsx(c,{control:a.control,name:"password",render:({field:e})=>s.jsxs(l,{children:[s.jsx(d,{children:"New Password"}),s.jsx(i,{children:s.jsx(x,{type:"password",placeholder:"Enter your new password",...e})}),s.jsx(m,{})]})}),s.jsx(c,{control:a.control,name:"confirmPassword",render:({field:e})=>s.jsxs(l,{children:[s.jsx(d,{children:"Confirm Password"}),s.jsx(i,{children:s.jsx(x,{type:"password",placeholder:"Confirm your new password",...e})}),s.jsx(m,{})]})}),s.jsx(t,{type:"submit",className:"w-full",children:"Reset Password"})]})}),s.jsx("div",{className:"text-center text-sm",children:s.jsx(o,{to:"/login",className:"text-muted-foreground hover:text-primary",children:"Back to login"})})]});return s.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:f})}export{I as ResetPasswordPage};
